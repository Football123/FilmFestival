@using HaarlemFilmFestival.Models;
@using HaarlemFilmFestival.ViewModels;

@model FoodViewModel

@*@model IEnumerable<Restaurant>*@
@{
    ViewBag.Title = "Food";
}
<link href="@Url.Content("~/Content/Food.css")" , rel="stylesheet" type="text/css" />

<!--#region scripts-->
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script>$(document).ready(function () {
        $("#hide").click(function () {
            $(".orderPopUp").hide();
        });
        $(".orderButton").click(function (data) {
            var id = document.activeElement.id;
            var event = $(this).attr("id");
            $(".orderPopUp").show();
            $(".eventidinput").val(event);
        });
    });</script>
<!--#endregion scripts -->

<div class="jumbotron">
    <h1>Visit Haarlem Restaurants</h1>
    <p>
        Although Haarlem had not all particular well known culinary tradition there are lots of restaurants that are worth your while. Some of them created a special Haarlem festival menu at a reduced price. It is a great way to enjoy the posibilities of Haarlem.
    </p>

    <p class="food1">
        See the restaurants below for locations, prices and the type of food the restaurant serves. A reservation is mandatory.
    </p>

    <div class="foodcontainer">
        <div class="column">
            Scroll down to the restaurant section, look at the various restaurants and choose the one that appeals to you the most.
            For Frensch, you should check out Ratatouille! But if you want to try out some Dutch food, Restaurant ML, Restaurant Fris, Grand Cafe Brinkman and Urban Frenchy Bistro are a good idea!
            Pick a restaurant and add it to you chart!
        </div>
        <div class="column">
            <img src="@Url.Content("~/Content/Images/Restaurants/u568aangepast.png")" />
        </div>
        <div class="column">
            <img src="@Url.Content("~/Content/Images/Restaurants/u567aangepast.png")" />
        </div>
    </div>

    <br />
    <h7 style="color:white;">Tickets</h7>

    <h1>Tickets</h1>

    <table class="table">
        <tr>
            <th>
                Restaurant
            </th>
            <th>
                Price adults*
            </th>
            <th>
                Price children*
            </th>
            <th>
                Type
            </th>
            <th>
                Order a ticket**
            </th>
        </tr>

        @foreach (var item in ViewBag.foodz)
        {
            <tr>
                <td>
                    @item.Restaurant.RestaurantName
                </td>
                <td>
                    @item.Price
                </td>
                <td>
                    @item.Discount
                </td>
                <td>
                    @item.Restaurant.CuisinesString
                </td>
                <td>
                    <a class="orderButton" id="@item.Id"><img src="~/Content/Images/cart.png" /></a>
                </td>
            </tr>
        }

    </table>


    <p>* Reservation is mandatory.  A reservation fee of €10,- per person wil be charged when a reservation is made on the Haarlem Festival site. This fee will be deducted from the final check on visiting the restaurant.</p>
    <p>** When ordering a ticket there will be an option to inform the restaurant for special requests regarding the food or service (allergies, wheelchair etc.)</p>
    <br />
    <h1>Restaurants</h1>

    <div class="row">
        @foreach (var item in Model.Restaurants)
        {

            <div class="col-md-4">
                <h3>@Html.DisplayFor(modelItem => item.RestaurantName)</h3>
                <h3>@Html.DisplayFor(modelItem => item.Stars) stars <img src="@Url.Content("~/Content/Images/Restaurants/u447.png")" /></h3>
                <img src="@Url.Content("~/Content/Images/Restaurants/")@{ @Html.DisplayFor(modelItem => item.FixedImageName) }.png" alt="Restaurant image" />
                <h3><img src="@Url.Content("~/Content/Images/Restaurants/u451aangepast.png")" /><a href="@item.WebsiteLink"><img src="@Url.Content("~/Content/Images/Restaurants/u446aangepast.png")" /></a></h3>
            </div>
        }
    </div>

    <div class="scrollable">
        <div class="orderPopUp">
            <form class="placeOrder" method="post" action="~/Foods/Index">
                <h3>Choose your food ticket please.</h3>
                <div class="idtext"></div>
                Date:
                <br />
                <input type="text" class="eventidinput" name="eventid1" hidden />
                <input type="date" name="amountOfTickets1" @*required*@><br />
                <br />
                <div class="idtext"></div>
                Time*:
                <br />
                <input type="text" class="eventidinput" name="eventid2" hidden />
                <input type="datetime" name="amountOfTickets2" @*required*@><br />
                <br />
                <div class="idtext"></div>
                Amount of adults:
                <br />
                <input type="text" class="eventidinput" name="eventid" hidden />
                <input type="number" name="amountOfTickets" min="1" max="10" required><br />
                <br />
                <div class="idtext"></div>
                Amount of children:
                <input type="text" class="eventidinput" name="eventid4" hidden />
                <input type="number" name="amountOfTickets4" min="1" max="10" @*required*@><br />
                <br />
                <br />
                <div class="idtext"></div>
                Special request:
                <br />
                <input type="text" class="eventidinput" name="eventid3" hidden />
                <input type="text" name="amountOfTickets3" @*required*@><br />
                <br />
                <input type="submit" value="Add ticket">
                <input id="hide" type="button" value="CANCEL">
            </form>
        </div>
    </div>
    </div>
